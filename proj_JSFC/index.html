<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"></head>
<body>

<script src="parse_utils.js"></script>
<script src="printtest.js"></script>

<script>
	//TODO: procedure_inject --> server_side_serve_file --> serve_in_json
	//FIXME: canto, canto2
	tableid="tableid";

	function testButtonOnClick(name)
	{
		removeById(tableid);
		var headID = document.getElementsByTagName("head")[0];        
		var newScript = document.createElement('script');
		newScript.type = 'text/javascript';
		newScript.src = 'http://nailbiter.insomnia247.nl/cgi-bin/tests/FC.cgi?' + name;
		headID.appendChild(newScript);
	}
	function print_filenames(filenames)
	{
		document.write('<center><h1><table id="'+tableid+'">');
		for( var i = 0; i < filenames.length; i++ )
			document.write('<tr><td><center><button id="' + filenames[i] +
						'" onclick="testButtonOnClick(this.id)">' + filenames[i] + '</button></center></td></tr>');
		document.write('</table></h1></center>');
	}
	function clientCallback(arg)
	{
		if( arg.hasOwnProperty("filenames") )
			print_filenames(arg.filenames);
        else
			print_test(arg);
	}
</script>

<script type="application/javascript"
	src="http://nailbiter.insomnia247.nl/cgi-bin/tests/FC.cgi">
</script>

</body>
</html>
