<!DOCTYPE html>
<html>
<meta name="viewport" content="width=300" />
<meta name="viewport" content="initial-scale=2" />
<head><meta charset="UTF-8"></head>
<style>
	button{ -webkit-appearance: none; }
	h1{ font-size:200%; }
	input { font: larger bold; }
	canvas { background-color: black; }
	.questiontext{margin-bottom: 15px; font-size: 24px; width: 350px; height: 50px; text-align:center; }
	.buttonContainer{margin-left: 50%;}
    table, th, td {border: 1px solid black;align:center;text-align:center}
</style>
<body>

<script src="util.js"></script>
<script src="html_utils.js"></script>
<script src="selectionMode.js"></script>
<script src="favoritesManager.js"></script>
<script src="printtest.js"></script>

<script>
    //TODO:
    //logging on server side, check that callback goes correctly
    //-->{callback:string,command:string,argument:obj}
    // check same words in .txt js file
    //question_type_match, 
    // tag online creation; mobile webpage
    //grammar template question type
	iOS = ( navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ? true : false );
    var url_args = window.location.search.substring(1);
    var loc = window.location.href;
    loc = loc.substring(0,loc.lastIndexOf('?'));

    injectJS('http://nailbiter.insomnia247.nl/cgi-bin/tests/FC.cgi' + ((url_args=="")?"":("?"+url_args)));

	function print_filenames(filenames)
    {
        var h1 = document.createElement("h1");
        var center = document.createElement("center");
        var table = document.createElement('TABLE');
        table.border='1';

        var tableBody = document.createElement('TBODY');
        h1.appendChild(center);
        center.appendChild(table);
        table.appendChild(tableBody);

        for (var i=0; i<filenames.length; i++)
        {
            var tr = document.createElement('TR');
            tableBody.appendChild(tr);
            var td = document.createElement('TD');
            td.width='175';
            var a = document.createElement("a");
            var linkText = document.createTextNode(filenames[i]);
            a.appendChild(linkText);
            a.title = filenames[i];
            a.href = loc + "?" + filenames[i];
            td.appendChild(a);
            tr.appendChild(td);
        }

        document.body.appendChild(h1);
	}
	function clientCallback(arg)
	{
		if( arg.hasOwnProperty("filenames") )
			print_filenames(arg.filenames);
        else
			print_test(arg);
	}
</script>
</body>
</html>
